<script>
	/*
		student 배열은 순서대로 ["번호", "이름", "성별"] 의 데이터 이고, 
		score 배열은 순서대로 ["번호", "국어", "수학"] 의 데이터이다.
	*/
	/*
		[문제] 
			학생번호 , 이름 , 점수두개를 출력하시오. 
			단, 총점이 높은순으로 내리차순정렬하시오. 
			단, 점수가 같을경우 번호 내림차순으로 정렬하시오.
		[정답]
			1005,오만석,49,80
			1003,김민정,64,65
			1006,최이슬,14,90
			1004,이철민,13,77
			1002,이영희,70,20
			1001,이만수,10,20
	*/

	
	let student = [
		{"num":1001, "name":"이만수", "gender":"남"},
		{"num":1002, "name":"이영희", "gender":"여"},
		{"num":1003, "name":"김민정", "gender":"여"},
		{"num":1004, "name":"이철민", "gender":"남"},
		{"num":1005, "name":"오만석", "gender":"남"},
		{"num":1006, "name":"최이슬", "gender":"여"}
	];

	let score = [
		{"num":1001, "kor":10, "math":20},
		{"num":1002, "kor":70, "math":20},
		{"num":1003, "kor":64, "math":65},
		{"num":1004, "kor":13, "math":77},
		{"num":1005, "kor":49, "math":80},
		{"num":1006, "kor":14, "math":90},
	];

	function getViewList(student, score){
        let viewList = []; 
        for(let i = 0; i < student.length; i++){
            let temp = {};
            temp["num"] = student[i]["num"];
            temp["name"] = student[i]["name"];
            temp["kor"] = score[i]["kor"];
            temp["math"] = score[i]["math"];
            viewList.push(temp);
        }
        return viewList;
    }

    function printList(viewList){
        for (let i = 0; i < viewList.length; i++){
            document.write(viewList[i]["num"] + " ");
            document.write(viewList[i]["name"] + " ");
            document.write(viewList[i]["kor"] + " ");
            document.write(viewList[i]["math"] + " ");
            document.write("<br>");
        }
        document.write("<hr>");
    }

    function sortList(viewList){
        viewList.sort((a , b) => {
            let t1 = a["kor"] + a["math"];
            let t2 = b["kor"] + b["math"];
            if(t1 < t2){
                return 1;
            }else if(t1 > t2){
                return -1;
            }else{
                if(a["num"] < b["num"]){
                    return 1;
                }else if(a["num"] > b["num"]){
                    return -1;
                }else{
                    return 0;
                }
            }
        });
    }

    let viewList = getViewList(student, score);
	printList(viewList);
	sortList(viewList);
	printList(viewList);

</script>