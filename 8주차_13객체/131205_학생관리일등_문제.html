<script>
	/*
		student 배열은 순서대로 ["번호", "이름", "성별"] 의 데이터 이고, 
		score 배열은 순서대로 ["번호", "국어", "수학"] 의 데이터이다.
	*/
	/*
		[문제] 
			총점 1등의 번호, 이름 점수를 출력하시오.
		[정답]
			1003 김민정 129
			1005 오만석 129
	*/

	let student = [
		{"num":1001, "name":"이만수", "gender":"남"},
		{"num":1002, "name":"이영희", "gender":"여"},
		{"num":1003, "name":"김민정", "gender":"여"},
		{"num":1004, "name":"이철민", "gender":"남"},
		{"num":1005, "name":"오만석", "gender":"남"},
		{"num":1006, "name":"최이슬", "gender":"여"}
	];

	let score = [
		{"num":1001, "kor":10, "math":20},
		{"num":1002, "kor":70, "math":20},
		{"num":1003, "kor":64, "math":65},
		{"num":1004, "kor":13, "math":87},
		{"num":1005, "kor":49, "math":80},
		{"num":1006, "kor":14, "math":90},
	];

    
    score.sort((a,b) => {
        let asum = a["kor"] + a["math"];
        let bsum = b["kor"] + b["math"];
        if(asum > bsum){
            return -1;
        } else if(bsum > asum){
            return 1;
        } else {
            return 0;
        }
    })

    let max = score[0]["kor"] + score[0]["math"];
    for(let i = 0; i < score.length; i++){
        let sum = score[i]["kor"] + score[i]["math"]
        if(sum == max){
            for(let j = 0; j < student.length; j++){
                if(student[j]["num"] == score[i]["num"]){
                    document.write(student[j]["num"], " ", student[j]["name"], " ", sum, "<br>");
                }
            }
        }
        
    }

    /*
        <다른 방법>
        let totalList = [];
        for(let i = 0; i < score.length; i++){
            totalList.push(0);
            totalList[i] = score[i]["kor"] + score[i]["math"];
        }

        let mx = totalList[0];

        for(let i = 0; i < totalList.length; i++){
            if(mx < totalList[i]){
                mx = totalList[i];
            }
        }

        document.write(mx);
        document.write("<hr/>");

        for(let i = 0; i < score.length; i++){
            let total = score[i]["kor"] + score[i]["math"];
            for(let j = 0; j < student.length; j++){
                if(mx == total){
                    if(score[i]["num"] == student[j]["num"]){
                        document.write(score[i]["num"] + " " + student[j]["name"] + " " + total + "<br/>");
                    }	
                }	
            }
        }
    */

</script>